<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>For You ‚ù§Ô∏è</title>

<style>
/* ================= BASE ================= */
body{
  margin:0;
  font-family:system-ui, sans-serif;
  min-height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  overflow:hidden;
  transition:background 3s;
}

body.start{background:#ffeef4;}
body.valentine{background:radial-gradient(circle at top,#ffd1dc,#ff8fab);}
body.transition{background:linear-gradient(#ffd1dc,#ffd166);}
body.birthday{background:linear-gradient(#fff0b3,#ffd166);}

.hidden{display:none;}
.center{width:900px;text-align:center;z-index:3;}

.box{
  background:white;
  padding:32px;
  border-radius:26px;
  box-shadow:0 30px 70px rgba(0,0,0,.3);
}

button{
  padding:16px 30px;
  border-radius:999px;
  border:none;
  font-size:18px;
  font-weight:700;
  cursor:pointer;
}

/* ================= START ================= */
#yes{background:#ff3b7a;color:white;}
#no{background:#eee;position:absolute;}
.zone{position:relative;height:130px;margin-top:20px;}

.banner{
  position:fixed;
  top:18px;
  left:50%;
  transform:translateX(-50%);
  background:white;
  padding:14px 30px;
  border-radius:999px;
  font-weight:800;
  box-shadow:0 14px 32px rgba(0,0,0,.3);
  z-index:4;
}

/* ================= FX ================= */
.fx{
  position:fixed;
  inset:0;
  pointer-events:none;
  z-index:1;
}

/* Romantic FX */
.heart{
  position:absolute;
  bottom:-120px;
  font-size:120px;
  opacity:.35;
  animation:floatUp linear infinite;
}
.tulip{
  position:absolute;
  bottom:-120px;
  font-size:90px;
  opacity:.35;
  animation:bloom 14s ease-in-out infinite;
}
@keyframes floatUp{to{transform:translateY(-140vh);}}
@keyframes bloom{
  0%{transform:scale(.3);opacity:0;}
  40%{opacity:.4;}
  70%{transform:scale(1) translateY(-80vh);}
  100%{opacity:0;}
}

/* Birthday FX */
.confetti{
  position:absolute;
  top:-80px;
  font-size:60px;
  animation:fall linear infinite;
}
.rocket{
  position:absolute;
  bottom:-100px;
  font-size:70px;
  animation:launch 4s linear infinite;
}
.burst{
  position:absolute;
  font-size:90px;
  animation:burst 2.5s ease-out infinite;
}
@keyframes fall{to{transform:translateY(140vh);}}
@keyframes launch{to{transform:translateY(-140vh);}}
@keyframes burst{
  0%{opacity:0;transform:scale(.3);}
  40%{opacity:1;}
  100%{opacity:0;transform:scale(1.5);}
}

/* ================= SLIDES ================= */
.slide-wrap{
  display:flex;
  gap:60px;
  align-items:center;
  justify-content:center;
}

.card{
  width:720px;
  aspect-ratio:3/4;
  perspective:1600px;
}
.inner{
  width:100%;
  height:100%;
  transition:transform .9s;
  transform-style:preserve-3d;
}
.flip .inner{transform:rotateY(180deg);}
.face{
  position:absolute;
  width:100%;
  height:100%;
  backface-visibility:hidden;
  border-radius:30px;
  box-shadow:0 30px 80px rgba(0,0,0,.4);
  display:flex;
  justify-content:center;
  align-items:center;
  padding:28px;
}
.front img{
  width:100%;
  height:100%;
  object-fit:cover;
  border-radius:30px;
}
.back{
  background:white;
  transform:rotateY(180deg);
  font-size:24px;
  line-height:1.6;
}

.action-side{
  min-width:280px;
  display:flex;
  align-items:center;
}
#actionBtn{margin-left:40px;}
.val-btn{background:#ff3b7a;color:white;}
.bd-btn{background:#ff9f1c;color:white;}

.fade-left{
  animation:fadeLeft 1s forwards;
}
@keyframes fadeLeft{
  to{opacity:0;transform:translateX(-120%);}
}

/* ================= CONTRACT ================= */
.contract{
  background:white;
  padding:40px;
  border-radius:28px;
  box-shadow:0 30px 80px rgba(0,0,0,.35);
}
.sign-box{
  border:2px dashed #ccc;
  padding:24px;
  border-radius:16px;
  margin:24px auto;
  cursor:pointer;
  font-weight:700;
}

/* ================= COUNTDOWN ================= */
.count{
  font-size:100px;
  font-weight:900;
}

/* ================= POLAROID ================= */
.polaroid-wrap{
  position:relative;
  width:400px;
  height:500px;
  margin:auto;
}
.polaroid{
  position:absolute;
  width:320px;
  background:white;
  padding:12px 12px 40px;
  box-shadow:0 20px 40px rgba(0,0,0,.4);
  border-radius:6px;
  transform:rotate(var(--r));
}
.polaroid img{width:100%;}
.stamp{
  position:absolute;
  bottom:10px;
  right:12px;
  font-weight:800;
  color:#ff3b7a;
}
</style>
</head>

<body class="start">

<div id="banner" class="banner hidden"></div>
<div id="fx" class="fx"></div>

<!-- START -->
<div class="center box" id="start">
  <h2>Will you be my Valentine? üíï</h2>
  <div class="zone" id="zone">
    <button id="yes">Yes</button>
    <button id="no">No</button>
  </div>
</div>

<!-- SLIDE -->
<div class="center hidden" id="slide">
  <div class="slide-wrap">
    <div class="card" id="card">
      <div class="inner">
        <div class="face front"><img id="img"></div>
        <div class="face back" id="msg"></div>
      </div>
    </div>
    <div class="action-side">
      <button id="actionBtn" class="val-btn hidden">Click me üíñ</button>
    </div>
  </div>
</div>

<!-- CONTRACT -->
<div class="center hidden" id="contract">
  <div class="contract">
    <h2>üíñ Love Contract üíñ</h2>
    <p>Signed by me: <strong>Dikshant ‚úçÔ∏è</strong></p>
    <div class="sign-box" id="signBox">Tap here to sign ‚úã</div>
  </div>
</div>

<!-- COUNTDOWN -->
<div class="center hidden" id="countdown">
  <div id="countNum" class="count"></div>
</div>

<!-- POLAROID END -->
<div class="center hidden" id="polaroidEnd">
  <div class="polaroid-wrap" id="polaroidWrap"></div>
</div>

<!-- TIME CAPSULE -->
<div class="center hidden" id="timeCapsule">
  <div class="box">
    <h2>When you miss me üíñ</h2>
    <img src="photos/romantic/romantic1.jpg" style="width:100%;border-radius:16px">
    <p style="font-size:20px;margin-top:16px">Even on quiet days, you‚Äôre never alone.</p>
    <button onclick="replayCapsule()">Open again ‚ú®</button>
  </div>
</div>

<audio id="romantic" src="music/romantic.mp3" loop></audio>
<audio id="birthday" src="music/birthday.mp3"></audio>

<script>
const romantic=[
 ["photos/romantic/romantic1.jpg","My favorite place has always been right next to you."],
 ["photos/romantic/romantic2.jpg","I love this soft, cozy side of you."],
 ["photos/romantic/romantic3.jpg","Even simple days feel special with you."]
];
const birthday=[
 ["photos/birthday/birthday1.jpg","The woman who lights up every room."],
 ["photos/birthday/birthday2.jpg","Grace and beauty, always."],
 ["photos/birthday/birthday3.jpg","So effortlessly you."],
 ["photos/birthday/birthday4.jpg","Cute and mischievous üòå"],
 ["photos/birthday/birthday5.jpg","You make life fun."],
 ["photos/birthday/birthday6.jpg","My favorite future."]
];

let set=romantic,i=0,contractDone=false,noCount=0;

const fx=document.getElementById("fx");
const romanticMusic=document.getElementById("romantic");
const birthdayMusic=document.getElementById("birthday");

/* NO */
zone.onmousemove=()=>{
  const n=document.getElementById("no");
  n.style.left=Math.random()*200+"px";
  n.style.top=Math.random()*80+"px";
  if(++noCount===4) alert("Haha üòå there‚Äôs no escape from me.");
};

/* YES */
yes.onclick=()=>{
  start.classList.add("hidden");
  document.body.className="valentine";
  banner.textContent="üíï Happy Valentine‚Äôs Day, baby üíï";
  banner.classList.remove("hidden");
  romanticMusic.play();
  spawnRomanticFX();
  slide.classList.remove("hidden");
  loadSlide();
};

function spawnRomanticFX(){
  fx.innerHTML="";
  for(let i=0;i<12;i++){
    const h=document.createElement("div");
    h.className="heart";
    h.textContent="‚ù§Ô∏è";
    h.style.left=Math.random()*100+"%";
    h.style.animationDuration=12+Math.random()*10+"s";
    fx.appendChild(h);
  }
  for(let i=0;i<8;i++){
    const t=document.createElement("div");
    t.className="tulip";
    t.textContent="üå∑";
    t.style.left=Math.random()*100+"%";
    fx.appendChild(t);
  }
}

function spawnBirthdayFX(){
  fx.innerHTML="";
  for(let i=0;i<10;i++){
    const r=document.createElement("div");
    r.className="rocket";
    r.textContent="üöÄ";
    r.style.left=Math.random()*100+"%";
    fx.appendChild(r);
  }
  for(let i=0;i<6;i++){
    const b=document.createElement("div");
    b.className="burst";
    b.textContent="üí•";
    b.style.left=Math.random()*100+"%";
    b.style.top=Math.random()*50+"%";
    fx.appendChild(b);
  }
  for(let i=0;i<12;i++){
    const c=document.createElement("div");
    c.className="confetti";
    c.textContent=["üéâ","üéÇ","üéà"][Math.floor(Math.random()*3)];
    c.style.left=Math.random()*100+"%";
    c.style.animationDuration=5+Math.random()*5+"s";
    fx.appendChild(c);
  }
}

function loadSlide(){
  card.className="card";
  img.src=set[i][0];
  msg.textContent=set[i][1];
  actionBtn.classList.remove("hidden");
  actionBtn.onclick=()=>{
    actionBtn.classList.add("hidden");
    card.classList.add("flip");
    setTimeout(()=>{
      card.classList.remove("flip");
      card.classList.add("fade-left");
      setTimeout(nextSlide,1000);
    },6000);
  };
}

function nextSlide(){
  i++;
  if(i>=set.length){
    slide.classList.add("hidden");
    if(set===romantic && !contractDone){
      contract.classList.remove("hidden");
      return;
    }
    endSequence();
    return;
  }
  loadSlide();
}

signBox.onclick=()=>{
  signBox.textContent="Thank you üòå Haha now you are mine!! ‚ù§Ô∏è";
  contractDone=true;
  setTimeout(startCountdown,1500);
};

function startCountdown(){
  contract.classList.add("hidden");
  countdown.classList.remove("hidden");
  let c=3;
  countNum.textContent=c;
  const t=setInterval(()=>{
    c--;
    countNum.textContent=c;
    if(c===0){
      clearInterval(t);
      countdown.classList.add("hidden");
      smoothToBirthday();
    }
  },1000);
}

function smoothToBirthday(){
  document.body.className="transition";
  setTimeout(()=>{
    document.body.className="birthday";
    romanticMusic.pause();
    birthdayMusic.play();
    spawnBirthdayFX();
    set=birthday;
    i=0;
    slide.classList.remove("hidden");
    loadSlide();
  },3000);
}

function endSequence(){
  slide.classList.add("hidden");
  polaroidEnd.classList.remove("hidden");
  birthday.forEach((p,idx)=>{
    setTimeout(()=>{
      const d=document.createElement("div");
      d.className="polaroid";
      d.style.setProperty("--r",`${Math.random()*10-5}deg`);
      d.innerHTML=`<img src="${p[0]}"><div class="stamp">Memory saved ‚ù§Ô∏è</div>`;
      polaroidWrap.appendChild(d);
    },idx*600);
  });
  setTimeout(()=>{
    polaroidEnd.classList.add("hidden");
    timeCapsule.classList.remove("hidden");
    romanticMusic.play();
    alert("Happy Valentine‚Äôs Day ‚ù§Ô∏è\nHappy Birthday üéÇ");
  },birthday.length*600+1500);
}

function replayCapsule(){
  romanticMusic.currentTime=0;
  romanticMusic.play();
}
</script>

</body>
</html>
